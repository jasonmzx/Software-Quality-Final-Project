<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Flight Booking System</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <!-- Bootstrap DatePicker CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/css/bootstrap-datepicker.min.css">
</head>
<body>

<!-- PAGE HEADER -->

<nav class="navbar navbar-expand-lg navbar-dark bg-primary">
    <a class="navbar-brand" href="#">SOFE 3980U | Ticket Booking Application</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav">
        <li class="nav-item active">
          <a class="nav-link" href="#">Home <span class="sr-only">(current)</span></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#">Features</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#">Pricing</a>
        </li>
      </ul>
    </div>
  </nav>

    <div class="container mt-5">
        <form th:action="@{/searchFlights}" method="get">
            <div class="row">
                <div class="col-md-6">
                    <div class="form-group">
                        <label for="departureDate">Departure Date</label>
                        <input type="text" class="form-control datepicker" id="departureDate" name="departureDate">
                    </div>

                    <div class="form-group">
                        <label for="departureAirport">Departure Airport</label>
                        <select class="form-control" id="departureAirport" name="departureAirport">
                            <option value="">Select an Airport</option>
                            <option th:each="airport : ${airports}" th:value="${airport.ID}" th:text="${airport.name}"></option>
                        </select>
                    </div>

                </div>
                <div class="col-md-6">
                    <div class="form-group">
                        <label for="arrivalAirport">Arrival Airport</label>
                        <select class="form-control" id="arrivalAirport" name="arrivalAirport">
                            <option>LON - London</option>
                            <option>PAR - Paris</option>
                            <option>TOK - Tokyo</option>
                        </select>
                    </div>
                    <div class="form-group form-check">
                        <input type="checkbox" class="form-check-input" id="roundTrip">
                        <label class="form-check-label" for="roundTrip">Round Trip</label>
                    </div>
                    <div class="form-group returnDateGroup" style="display: none;">
                        <label for="returnDate">Return Date</label>
                        <input type="text" class="form-control datepicker" id="returnDate" name="returnDate">
                    </div>
                </div>
            </div>
            <button type="submit" class="btn btn-primary">Search Flights</button>
        </form>
        <!-- Placeholder for flight search results -->
        <table class="table mt-4">
            <thead>
                <tr>
                    <th>Available Trips</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Flight A <button class="btn btn-info">Book</button></td>
                </tr>
                <tr>
                    <td>Flight B <button class="btn btn-info">Book</button></td>
                </tr>
            </tbody>
        </table>
    </div>

    <!-- jQuery and Bootstrap Bundle (includes Popper) -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.bundle.min.js"></script>
    <!-- Bootstrap DatePicker JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.min.js"></script>
    <script>
        $(document).ready(function() {
            $('.datepicker').datepicker();
            
            $('#roundTrip').change(function() {
                if (this.checked) {
                    $('.returnDateGroup').show();
                } else {
                    $('.returnDateGroup').hide();
                }
            });
        });
    </script>
</body>
</html>
